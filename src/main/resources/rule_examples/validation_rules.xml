<rules>
	<defaultDatasetAction>keep-left</defaultDatasetAction>	
	<rule>
		<propertyA>http://slipo.eu/def#name http://slipo.eu/def#nameValue</propertyA>
		<propertyB>http://slipo.eu/def#name http://slipo.eu/def#nameValue</propertyB>
		<externalProperty id="a1">http://slipo.eu/def#phone http://slipo.eu/def#contactValue</externalProperty>
		<externalProperty id="b1">http://slipo.eu/def#phone http://slipo.eu/def#contactValue</externalProperty>
		<externalProperty id="a2">http://slipo.eu/def#address http://slipo.eu/def#street</externalProperty>
		<externalProperty id="b2">http://slipo.eu/def#address http://slipo.eu/def#street</externalProperty>		
		<externalProperty id="a3">http://slipo.eu/def#address http://slipo.eu/def#number</externalProperty>
		<externalProperty id="b3">http://slipo.eu/def#address http://slipo.eu/def#number</externalProperty>			
		<actionRuleSet>
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
							<function>isSameCustomNormalize(a,b,0.6)</function>
						</and>
					</expression>			
				</condition>
				<action>keep-left</action>
			</actionRule>		
			<actionRule>
				<condition>
					<expression>
						<and>
							<expression>
								<and>
									<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
									<function>isSameCustomNormalize(a,b,0.3)</function>
								</and>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a,b,0.6)</function>
								</not>
							</expression>
						</and>
					</expression>			
				</condition>
				<action>reject-mark-ambiguous</action>
			</actionRule>
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
							<expression>
								<not>
									<function>isSameCustomNormalize(a,b,0.3)</function>
								</not>
							</expression>
						</and>
					</expression>		
				</condition>
				<action>reject-link</action>
			</actionRule>
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSameCustomNormalize(a,b,0.8)</function>
							<expression>
								<not>
									<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
								</not>
							</expression>
						</and>
					</expression>			
				</condition>
				<action>keep-left</action>
			</actionRule>				
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSameCustomNormalize(a,b,0.6)</function>
							<expression>
								<not>
									<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
								</not>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a,b,0.8)</function>
								</not>
							</expression>
						</and>
					</expression>		
				</condition>
				<action>accept-mark-ambiguous</action>
			</actionRule>
			<actionRule>
				<condition>
					<expression>
						<and>
							<expression>
								<not>
									<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
								</not>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a,b,0.6)</function>
								</not>
							</expression>
						</and>
					</expression>		
				</condition>
				<action>reject-link</action>
			</actionRule>
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSameCustomNormalize(a,b,0.8)</function>
							<expression>
								<not>
									<function>isSameCustomNormalize(a2,b2, 0.9)</function>
								</not>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a3,b3,0.9)</function>
								</not>
							</expression>
						</and>
					</expression>		
				</condition>
				<action>accept-mark-ambiguous</action>
			</actionRule>
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSameCustomNormalize(a,b,0.6)</function>
							<expression>
								<not>
									<function>isSameCustomNormalize(a2,b2, 0.9)</function>
								</not>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a3,b3,0.9)</function>
								</not>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a,b,0.8)</function>
								</not>
							</expression>							
						</and>
					</expression>		
				</condition>
				<action>reject-mark-ambiguous</action>
			</actionRule>
			<actionRule>
				<condition>
					<expression>
						<and>
							<expression>
								<not>
									<function>isSameCustomNormalize(a2,b2, 0.9)</function>
								</not>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a3,b3,0.9)</function>
								</not>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a,b,0.6)</function>
								</not>
							</expression>							
						</and>
					</expression>		
				</condition>
				<action>reject-link</action>
			</actionRule>
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSameCustomNormalize(a,b,0.8)</function>
							<expression>
								<or>
									<function>notExists(a1)</function>
									<function>notExists(b1)</function>
								</or>
							</expression>
							<expression>
								<or>
									<function>notExists(a2)</function>
									<function>notExists(b2)</function>
								</or>
							</expression>						
						</and>
					</expression>		
				</condition>
				<action>keep-left</action>
			</actionRule>														
		</actionRuleSet>
		<defaultAction>keep-right</defaultAction>
	</rule>	
</rules>
