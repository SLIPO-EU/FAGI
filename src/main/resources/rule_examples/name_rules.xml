<rules>
	<defaultDatasetAction>keep-left</defaultDatasetAction>	
	<rule>
		<propertyA>http://slipo.eu/def#name http://slipo.eu/def#nameValue</propertyA>
		<propertyB>http://slipo.eu/def#name http://slipo.eu/def#nameValue</propertyB>
		<externalProperty id="a1">http://slipo.eu/def#phone http://slipo.eu/def#contactValue</externalProperty>
		<externalProperty id="b1">http://slipo.eu/def#phone http://slipo.eu/def#contactValue</externalProperty>	
		<actionRuleSet>
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
							<function>isSameCustomNormalize(a,b,0.6)</function>
						</and>
					</expression>			
				</condition>
				<action>keep-longest</action>
			</actionRule>	
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
							<expression>
								<not>
									<function>isSameCustomNormalize(a,b,0.6)</function>
								</not>
							</expression>	
						</and>
					</expression>			
				</condition>
				<action>keep-both</action>
			</actionRule>	
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSameCustomNormalize(a,b,0.8)</function>
							<expression>
								<not>
									<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
								</not>
							</expression>	
						</and>
					</expression>			
				</condition>
				<action>keep-longest</action>
			</actionRule>
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>isSameCustomNormalize(a,b,0.5)</function>
							<expression>
								<not>
									<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
								</not>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a,b,0.8)</function>
								</not>
							</expression>								
						</and>
					</expression>			
				</condition>
				<action>keep-longest</action>
			</actionRule>	
			<actionRule>
				<condition>
					<expression>
						<and>
							<expression>
								<not>
									<function>isSamePhoneNumberCustomNormalize(a1,b1)</function>
								</not>
							</expression>
							<expression>
								<not>
									<function>isSameCustomNormalize(a,b,0.5)</function>
								</not>
							</expression>								
						</and>
					</expression>			
				</condition>
				<action>reject-mark-ambiguous</action>
			</actionRule>	
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>exists(a1)</function>
							<function>notExists(b1)</function>
							<function>isSameCustomNormalize(a,b,0.8)</function>					
						</and>
					</expression>		
				</condition>
				<action>keep-left</action>
			</actionRule>	
			<actionRule>
				<condition>
					<expression>
						<and>
							<function>exists(b1)</function>
							<function>notExists(a1)</function>
							<function>isSameCustomNormalize(a,b,0.8)</function>					
						</and>
					</expression>		
				</condition>
				<action>keep-right</action>
			</actionRule>																					
		</actionRuleSet>
		<defaultAction>keep-right</defaultAction>
	</rule>	
</rules>
